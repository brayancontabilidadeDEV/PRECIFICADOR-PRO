<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Precificador Pro - Calculadora de Preços Inteligente</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="src/css/main.css">
    <link rel="stylesheet" href="src/css/components.css">
    <link rel="stylesheet" href="src/css/responsive.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="src/assets/icons/favicon.ico">
    
    <!-- Meta SEO -->
    <meta name="description" content="Calculadora de preços profissional com análise de mercado, recomendações inteligentes e dashboard completo">
    <meta name="keywords" content="calculadora, precificação, markup, margem, análise de mercado, preços">
    <meta name="author" content="Precificador Pro">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-calculator"></i>
                <h1>Precificador <span class="pro">Pro</span></h1>
            </div>
            <nav class="tabs">
                <button class="tab-btn active" data-tab="calculadora">
                    <i class="fas fa-calculator"></i> Calculadora
                </button>
                <button class="tab-btn" data-tab="dashboard">
                    <i class="fas fa-chart-line"></i> Dashboard
                </button>
                <button class="tab-btn" data-tab="historico">
                    <i class="fas fa-history"></i> Histórico
                </button>
                <button class="tab-btn" data-tab="configuracoes">
                    <i class="fas fa-cog"></i> Configurações
                </button>
            </nav>
            <div class="header-actions">
                <button id="exportBtn" class="btn btn-secondary" title="Exportar dados">
                    <i class="fas fa-download"></i> Exportar
                </button>
                <button id="printBtn" class="btn btn-secondary" title="Imprimir">
                    <i class="fas fa-print"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Calculadora Tab -->
            <section id="calculadora" class="tab-content active">
                <div class="calculator-container">
                    <!-- Input Panel -->
                    <div class="input-panel">
                        <div class="panel-header">
                            <h2><i class="fas fa-edit"></i> Dados do Produto</h2>
                            <button class="btn-help" data-help="formulario">
                                <i class="fas fa-question-circle"></i> Ajuda
                            </button>
                        </div>
                        
                        <form id="calculadoraForm" class="form-calculadora">
                            <!-- Nome do Produto -->
                            <div class="form-group">
                                <label for="nomeProduto">
                                    <i class="fas fa-tag"></i> Nome do Produto
                                    <span class="required">*</span>
                                </label>
                                <input type="text" id="nomeProduto" 
                                       placeholder="Ex: Camiseta Premium" 
                                       required
                                       class="form-control">
                            </div>
                            
                            <!-- Categoria -->
                            <div class="form-group">
                                <label for="categoria">
                                    <i class="fas fa-list"></i> Categoria
                                </label>
                                <select id="categoria" class="form-control">
                                    <option value="">Selecione uma categoria</option>
                                    <option value="vestuario">Vestuário</option>
                                    <option value="eletronicos">Eletrônicos</option>
                                    <option value="alimentos">Alimentos</option>
                                    <option value="cosmeticos">Cosméticos</option>
                                    <option value="moveis">Móveis</option>
                                    <option value="outros">Outros</option>
                                </select>
                            </div>
                            
                            <!-- Custos Diretos -->
                            <div class="form-section">
                                <h3><i class="fas fa-money-bill-wave"></i> Custos Diretos</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="custoProduto">
                                            <i class="fas fa-box"></i> Custo do Produto (R$)
                                            <span class="required">*</span>
                                        </label>
                                        <div class="input-with-icon">
                                            <span class="icon-left">R$</span>
                                            <input type="number" id="custoProduto" 
                                                   step="0.01" min="0.01" 
                                                   placeholder="0,00" required
                                                   class="form-control money-input">
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="frete">
                                            <i class="fas fa-truck"></i> Frete (R$)
                                        </label>
                                        <div class="input-with-icon">
                                            <span class="icon-left">R$</span>
                                            <input type="number" id="frete" 
                                                   step="0.01" min="0" 
                                                   placeholder="0,00"
                                                   class="form-control money-input">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="embalagem">
                                            <i class="fas fa-box-open"></i> Embalagem (R$)
                                        </label>
                                        <div class="input-with-icon">
                                            <span class="icon-left">R$</span>
                                            <input type="number" id="embalagem" 
                                                   step="0.01" min="0" 
                                                   placeholder="0,00"
                                                   class="form-control money-input">
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="outrosCustos">
                                            <i class="fas fa-plus-circle"></i> Outros Custos (R$)
                                        </label>
                                        <div class="input-with-icon">
                                            <span class="icon-left">R$</span>
                                            <input type="number" id="outrosCustos" 
                                                   step="0.01" min="0" 
                                                   placeholder="0,00"
                                                   class="form-control money-input">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Custos Indiretos -->
                            <div class="form-section">
                                <h3><i class="fas fa-chart-pie"></i> Custos Indiretos (%)</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="custoFixo">
                                            <i class="fas fa-building"></i> Custo Fixo
                                        </label>
                                        <div class="input-with-icon">
                                            <input type="number" id="custoFixo" 
                                                   step="0.1" min="0" max="100"
                                                   placeholder="0" value="15"
                                                   class="form-control percent-input">
                                            <span class="icon-right">%</span>
                                        </div>
                                        <small class="helper-text">Despesas operacionais</small>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="margemLucro">
                                            <i class="fas fa-bullseye"></i> Margem de Lucro
                                        </label>
                                        <div class="input-with-icon">
                                            <input type="number" id="margemLucro" 
                                                   step="0.1" min="0" max="100"
                                                   placeholder="0" value="30"
                                                   class="form-control percent-input">
                                            <span class="icon-right">%</span>
                                        </div>
                                        <small class="helper-text">Lucro desejado</small>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Impostos e Taxas -->
                            <div class="form-section">
                                <h3><i class="fas fa-landmark"></i> Impostos e Taxas (%)</h3>
                                
                                <div class="tax-grid">
                                    <div class="form-group">
                                        <label for="icms">ICMS</label>
                                        <div class="input-with-icon">
                                            <input type="number" id="icms" 
                                                   step="0.1" min="0" max="100"
                                                   placeholder="0" value="18"
                                                   class="form-control percent-input">
                                            <span class="icon-right">%</span>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="pisCofins">PIS/COFINS</label>
                                        <div class="input-with-icon">
                                            <input type="number" id="pisCofins" 
                                                   step="0.1" min="0" max="100"
                                                   placeholder="0" value="3.65"
                                                   class="form-control percent-input">
                                            <span class="icon-right">%</span>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="comissao">Comissão</label>
                                        <div class="input-with-icon">
                                            <input type="number" id="comissao" 
                                                   step="0.1" min="0" max="100"
                                                   placeholder="0" value="10"
                                                   class="form-control percent-input">
                                            <span class="icon-right">%</span>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="taxaMarketplace">Marketplace</label>
                                        <div class="input-with-icon">
                                            <input type="number" id="taxaMarketplace" 
                                                   step="0.1" min="0" max="100"
                                                   placeholder="0" value="12"
                                                   class="form-control percent-input">
                                            <span class="icon-right">%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Análise de Mercado -->
                            <div class="form-section">
                                <h3><i class="fas fa-chart-bar"></i> Análise de Mercado</h3>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="precoConcorrente">
                                            <i class="fas fa-user-tie"></i> Preço Concorrente (R$)
                                        </label>
                                        <div class="input-with-icon">
                                            <span class="icon-left">R$</span>
                                            <input type="number" id="precoConcorrente" 
                                                   step="0.01" min="0"
                                                   placeholder="0,00"
                                                   class="form-control money-input">
                                        </div>
                                        <small class="helper-text">Preço médio da concorrência</small>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="segmentoMercado">
                                            <i class="fas fa-globe"></i> Segmento de Mercado
                                        </label>
                                        <select id="segmentoMercado" class="form-control">
                                            <option value="economico">Econômico</option>
                                            <option value="medio" selected>Médio</option>
                                            <option value="premium">Premium</option>
                                            <option value="luxo">Luxo</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Botões de Ação -->
                            <div class="form-actions">
                                <button type="button" id="btnCalcular" class="btn btn-primary btn-lg">
                                    <i class="fas fa-calculator"></i> Calcular Preço
                                </button>
                                <button type="button" id="btnLimpar" class="btn btn-secondary">
                                    <i class="fas fa-broom"></i> Limpar
                                </button>
                                <button type="button" id="btnExemplo" class="btn btn-outline">
                                    <i class="fas fa-magic"></i> Exemplo
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <!-- Results Panel -->
                    <div class="results-panel">
                        <div class="panel-header">
                            <h2><i class="fas fa-chart-line"></i> Resultados</h2>
                            <div class="panel-actions">
                                <button id="btnSalvar" class="btn-icon" title="Salvar cálculo">
                                    <i class="fas fa-save"></i>
                                </button>
                                <button id="btnCompartilhar" class="btn-icon" title="Compartilhar">
                                    <i class="fas fa-share-alt"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Quick Stats -->
                        <div class="quick-stats">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                                <div class="stat-content">
                                    <h4>Preço de Venda</h4>
                                    <div class="stat-value" id="precoVenda">R$ 0,00</div>
                                    <div class="stat-label" id="statusPreco">Não calculado</div>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon profit">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="stat-content">
                                    <h4>Margem Líquida</h4>
                                    <div class="stat-value" id="margemLiquida">0%</div>
                                    <div class="stat-label" id="statusMargem">-</div>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <div class="stat-content">
                                    <h4>Markup</h4>
                                    <div class="stat-value" id="markup">0%</div>
                                    <div class="stat-label">Fator: <span id="fatorMarkup">1.00</span></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Results Tabs -->
                        <div class="results-tabs">
                            <nav class="tabs-nav">
                                <button class="tab-btn active" data-tab="detalhes">
                                    <i class="fas fa-list"></i> Detalhes
                                </button>
                                <button class="tab-btn" data-tab="composicao">
                                    <i class="fas fa-chart-pie"></i> Composição
                                </button>
                                <button class="tab-btn" data-tab="analise">
                                    <i class="fas fa-search"></i> Análise
                                </button>
                                <button class="tab-btn" data-tab="recomendacoes">
                                    <i class="fas fa-lightbulb"></i> Recomendações
                                </button>
                            </nav>
                            
                            <div class="tabs-content">
                                <!-- Detalhes -->
                                <div id="tab-detalhes" class="tab-pane active">
                                    <div class="detailed-results">
                                        <h3>Detalhamento do Cálculo</h3>
                                        
                                        <div class="results-grid">
                                            <div class="result-item">
                                                <span class="label">Custo Total:</span>
                                                <span class="value" id="custoTotal">R$ 0,00</span>
                                            </div>
                                            <div class="result-item">
                                                <span class="label">Impostos:</span>
                                                <span class="value" id="totalImpostos">R$ 0,00</span>
                                            </div>
                                            <div class="result-item">
                                                <span class="label">Comissões:</span>
                                                <span class="value" id="totalComissoes">R$ 0,00</span>
                                            </div>
                                            <div class="result-item">
                                                <span class="label">Lucro Bruto:</span>
                                                <span class="value" id="lucroBruto">R$ 0,00</span>
                                            </div>
                                            <div class="result-item">
                                                <span class="label">Lucro Líquido:</span>
                                                <span class="value" id="lucroLiquido">R$ 0,00</span>
                                            </div>
                                        </div>
                                        
                                        <div class="breakdown-section">
                                            <h4>Distribuição do Preço</h4>
                                            <div class="breakdown-bars">
                                                <div class="breakdown-bar">
                                                    <div class="bar-label">Custos</div>
                                                    <div class="bar-container">
                                                        <div class="bar" id="barCustos" style="width: 0%"></div>
                                                        <span class="bar-value" id="valueCustos">0%</span>
                                                    </div>
                                                </div>
                                                <div class="breakdown-bar">
                                                    <div class="bar-label">Impostos</div>
                                                    <div class="bar-container">
                                                        <div class="bar bar-impostos" id="barImpostos" style="width: 0%"></div>
                                                        <span class="bar-value" id="valueImpostos">0%</span>
                                                    </div>
                                                </div>
                                                <div class="breakdown-bar">
                                                    <div class="bar-label">Comissões</div>
                                                    <div class="bar-container">
                                                        <div class="bar bar-comissoes" id="barComissoes" style="width: 0%"></div>
                                                        <span class="bar-value" id="valueComissoes">0%</span>
                                                    </div>
                                                </div>
                                                <div class="breakdown-bar">
                                                    <div class="bar-label">Lucro</div>
                                                    <div class="bar-container">
                                                        <div class="bar bar-lucro" id="barLucro" style="width: 0%"></div>
                                                        <span class="bar-value" id="valueLucro">0%</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Composição -->
                                <div id="tab-composicao" class="tab-pane">
                                    <div class="composition-section">
                                        <h3>Composição do Preço</h3>
                                        <div class="chart-container">
                                            <canvas id="compositionChart"></canvas>
                                        </div>
                                        <div class="composition-list" id="compositionList">
                                            <!-- Lista gerada dinamicamente -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Análise -->
                                <div id="tab-analise" class="tab-pane">
                                    <div class="analysis-section">
                                        <h3>Análise de Mercado</h3>
                                        <div class="market-analysis" id="marketAnalysis">
                                            <!-- Conteúdo gerado dinamicamente -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Recomendações -->
                                <div id="tab-recomendacoes" class="tab-pane">
                                    <div class="recommendations-section">
                                        <h3>Recomendações Inteligentes</h3>
                                        <div class="recommendations-list" id="recommendationsList">
                                            <!-- Recomendações geradas dinamicamente -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Dashboard Tab -->
            <section id="dashboard" class="tab-content">
                <div class="dashboard-container">
                    <h2><i class="fas fa-chart-line"></i> Dashboard Analítico</h2>
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3><i class="fas fa-chart-bar"></i> Evolução de Margens</h3>
                            <div class="chart-container">
                                <canvas id="marginsChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card">
                            <h3><i class="fas fa-pie-chart"></i> Distribuição por Categoria</h3>
                            <div class="chart-container">
                                <canvas id="categoriesChart"></canvas>
                            </div>
                        </div>
                        <div class="dashboard-card">
                            <h3><i class="fas fa-trend-up"></i> Tendências</h3>
                            <div id="trendsContent"></div>
                        </div>
                        <div class="dashboard-card">
                            <h3><i class="fas fa-medal"></i> Melhores Produtos</h3>
                            <div id="topProducts"></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Histórico Tab -->
            <section id="historico" class="tab-content">
                <div class="history-container">
                    <h2><i class="fas fa-history"></i> Histórico de Cálculos</h2>
                    <div class="history-controls">
                        <input type="text" id="searchHistory" placeholder="Buscar no histórico...">
                        <select id="filterCategory">
                            <option value="">Todas categorias</option>
                        </select>
                        <button id="clearHistory" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Limpar Histórico
                        </button>
                    </div>
                    <div class="history-list" id="historyList">
                        <!-- Histórico carregado dinamicamente -->
                    </div>
                </div>
            </section>
            
            <!-- Configurações Tab -->
            <section id="configuracoes" class="tab-content">
                <div class="settings-container">
                    <h2><i class="fas fa-cog"></i> Configurações</h2>
                    <div class="settings-grid">
                        <div class="settings-section">
                            <h3><i class="fas fa-sliders-h"></i> Configurações Gerais</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="autoSave" checked>
                                    Salvar automaticamente
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="showNotifications" checked>
                                    Mostrar notificações
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="darkMode">
                                    Modo escuro
                                </label>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h3><i class="fas fa-percentage"></i> Valores Padrão</h3>
                            <div class="setting-item">
                                <label>Margem de Lucro Padrão (%)</label>
                                <input type="number" id="defaultMargin" value="30" min="0" max="100" step="0.1">
                            </div>
                            <div class="setting-item">
                                <label>ICMS Padrão (%)</label>
                                <input type="number" id="defaultICMS" value="18" min="0" max="100" step="0.1">
                            </div>
                            <div class="setting-item">
                                <label>Comissão Padrão (%)</label>
                                <input type="number" id="defaultCommission" value="10" min="0" max="100" step="0.1">
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h3><i class="fas fa-database"></i> Dados</h3>
                            <div class="setting-item">
                                <button id="exportData" class="btn btn-secondary">
                                    <i class="fas fa-download"></i> Exportar Todos os Dados
                                </button>
                            </div>
                            <div class="setting-item">
                                <button id="importData" class="btn btn-secondary">
                                    <i class="fas fa-upload"></i> Importar Dados
                                </button>
                            </div>
                            <div class="setting-item">
                                <button id="resetData" class="btn btn-danger">
                                    <i class="fas fa-trash"></i> Resetar Todos os Dados
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
        
        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-left">
                    <p>Precificador Pro v2.0 &copy; 2024</p>
                    <p class="disclaimer">
                        <i class="fas fa-exclamation-circle"></i>
                        Esta ferramenta fornece sugestões. Consulte um profissional para decisões financeiras.
                    </p>
                </div>
                <div class="footer-right">
                    <div class="footer-stats">
                        <span class="stat">
                            <i class="fas fa-calculator"></i>
                            <span id="totalCalculations">0</span> cálculos
                        </span>
                        <span class="stat">
                            <i class="fas fa-save"></i>
                            <span id="savedItems">0</span> salvos
                        </span>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script type="module" src="src/js/main.js"></script>
</body>
</html>
